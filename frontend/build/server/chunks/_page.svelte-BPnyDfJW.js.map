{"version":3,"file":"_page.svelte-BPnyDfJW.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/_page.svelte.js"],"sourcesContent":["import { z as ensure_array_like, F as attr_class, G as clsx, y as attr } from \"../../chunks/index.js\";\nimport markdownit from \"markdown-it\";\nimport DOMPurify from \"isomorphic-dompurify\";\nimport hljs from \"highlight.js\";\nimport { e as escape_html } from \"../../chunks/context.js\";\nfunction html(value) {\n  var html2 = String(value ?? \"\");\n  var open = \"<!---->\";\n  return open + html2 + \"<!---->\";\n}\nconst nouvelleDiscussion = \"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20id='Bold'%20viewBox='0%200%2024%2024'%20width='512'%20height='512'%3e%3cpath%20d='M16.5,10.5h-3v-3a1.5,1.5,0,0,0-3,0v3h-3a1.5,1.5,0,0,0,0,3h3v3a1.5,1.5,0,0,0,3,0v-3h3a1.5,1.5,0,0,0,0-3Z'/%3e%3c/svg%3e\";\nfunction escapeHtml(unsafe) {\n  return unsafe.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#039;\");\n}\nconst md = markdownit({\n  html: false,\n  linkify: true,\n  typographer: true,\n  highlight(str, lang) {\n    if (lang && hljs.getLanguage(lang)) {\n      try {\n        return `<pre class=\"highlight\" data-language=\"${lang.toUpperCase()}\"><code>${hljs.highlight(str, { language: lang, ignoreIllegals: true }).value}</code></pre>`;\n      } catch {\n      }\n    }\n    return `<pre class=\"highlight\"><code>${escapeHtml(str)}</code></pre>`;\n  }\n});\nconst formatMessage = (content) => {\n  if (!content) return \"\";\n  const rawHTML = md.render(content);\n  return DOMPurify.sanitize(rawHTML);\n};\nfunction _page($$renderer, $$props) {\n  $$renderer.component(($$renderer2) => {\n    let messages = [\n      {\n        role: \"assistant\",\n        content: \"Salut ! je suis ton assistant J.E.A.N-H.E.U.D.E\"\n      }\n    ];\n    let sessionActive = null;\n    let historiques = [];\n    let currentMessage = \"\";\n    let attente = false;\n    $$renderer2.push(`<div class=\"container-global svelte-1uha8ag\"><div class=\"historique-windows svelte-1uha8ag\"><h2 class=\"historique-titre svelte-1uha8ag\">Historique des conversations</h2> <!--[-->`);\n    const each_array = ensure_array_like(historiques);\n    for (let $$index = 0, $$length = each_array.length; $$index < $$length; $$index++) {\n      let historique = each_array[$$index];\n      $$renderer2.push(`<button${attr_class(\"message-historique svelte-1uha8ag\", void 0, { \"active\": sessionActive === historique.id })}>${escape_html(historique.resume)}</button>`);\n    }\n    $$renderer2.push(`<!--]--></div> <div class=\"chat-box svelte-1uha8ag\"><div class=\"chat-widows svelte-1uha8ag\"><!--[-->`);\n    const each_array_1 = ensure_array_like(messages);\n    for (let $$index_1 = 0, $$length = each_array_1.length; $$index_1 < $$length; $$index_1++) {\n      let msg = each_array_1[$$index_1];\n      $$renderer2.push(`<div${attr_class(clsx(msg.role), \"svelte-1uha8ag\")}><div class=\"message-content svelte-1uha8ag\">${html(formatMessage(msg.content))}</div></div>`);\n    }\n    $$renderer2.push(`<!--]--></div> <form class=\"chatter svelte-1uha8ag\"><input class=\"chat svelte-1uha8ag\"${attr(\"value\", currentMessage)} placeholder=\"pose ta question ...\"/> <button class=\"button-go svelte-1uha8ag\"${attr(\"disabled\", attente, true)} type=\"submit\">Envoyer</button> <button class=\"new-chat svelte-1uha8ag\" aria-label=\"Commencer une nouvelle discussion\" title=\"Nouvelle discussion\"><img${attr(\"src\", nouvelleDiscussion)} aria-hidden=\"true\" alt=\"\" class=\"svelte-1uha8ag\"/></button></form></div></div>`);\n  });\n}\nexport {\n  _page as default\n};\n"],"names":[],"mappings":"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"}