# Jean-Heude

**J.E.A.N-H.E.U.D.E** is an AI orchestrator designed to be **100% local** and **fully open-source**.

By leveraging cutting-edge community projects, it provides a sovereign AI experience without compromising on privacy or performance.

---

# üöÄ Key Features

- **Total Sovereignty:** 100% local execution‚Äîyour private data, files, and images never leave your machine.
- üëÅÔ∏è **Multimodal Vision:** Jean-Heude "has eyes." Powered by local multimodal models, the AI can analyze, describe, and extract information from images and visual documents directly within the chat.
- **Multi-Channel & Secure Access:** Interact seamlessly via the Web UI, **Telegram**, or **Discord**. Built-in Zero-Trust security ensures the bot ignores strangers until authenticated via a secure `/pair` command.
- **Agentic Reasoning & Dynamic Skills:** Real-time "Thinking" process visualization. The AI doesn't just chat; it autonomously selects and executes specific **Skills** (tools) to solve complex tasks, fetch real-time data, or interact with your system.
- **Overhauled Memory Architecture:** A completely refactored, asynchronous memory system. It perfectly blends **SQLite** for instant session tracking with **Mem0 & Qdrant** for long-term, semantic vector retrieval across all your platforms.
- **Ultra-Smooth Voice Interaction:** High-performance audio delivery using **raw PCM bitstreaming** for near-zero latency.
- **Tool Integration (MCP):** Powered by the **Model Context Protocol**, effortlessly expanding Jean-Heude's capabilities.
- **Dynamic Orchestration:** Automatically selects the best local model from your pool based on the complexity of your request.

---

# üéôÔ∏è Innovation: PCM Bitstreaming vs. WAV

Unlike traditional systems that generate a full **WAV** file (requiring the user to wait for the end of generation or deal with complex header stitching), Jean-Heude now utilizes **raw 16-bit PCM bitstreaming**:

- **Zero Wait Latency:** Audio starts playing the moment the first few bytes are generated by the TTS engine, without waiting for a file container to close.
- **Intelligent Sequencing:** Implements a Frontend **Promise Chain** to queue audio IDs. This ensures sentences flow naturally into one another without gaps, overlaps, or "robotic" pauses.
- **Bit-Perfect Stability:** Advanced handling of **leftover bytes** ensures that 16-bit samples split across network packets are reconstructed perfectly, eliminating digital "clicks" or "pops."

---

# üõ† Technical Stack

The architecture is split into specialized micro-services for maximum efficiency and scalability:

- **Frontend:** **SvelteKit** (Svelte 5) utilizing the **AudioContext API** for real-time binary stream rendering.
- **Backend Gateways:** **Python (FastAPI)** handling WebSockets, combined with asynchronous polling for **Discord (`discord.py`)** and **Telegram (`python-telegram-bot`)**.
- **Voice Engine:** **Kokoro-ONNX** for ultra-fast, high-quality Text-to-Speech (TTS).
- **Memory Layer:** **Mem0** + **Qdrant** for vector storage, and **SQLite** for session tracking and identity management.
- **Inference Engine:** **Ollama**, serving Large Language Models (LLMs), Embeddings, and **Multimodal Vision models** (e.g., LLaVA, Moondream).
- **Orchestration:** Fully containerized using **Docker Compose** for a seamless, production-ready deployment.

---

# üì¶ Infrastructure Requirements

To get Jean-Heude up and running, you will need:

1. **Ollama:** Running on your host machine to manage and execute your local models.
2. **Docker & Docker Compose:** To orchestrate the entire micro-services stack (Frontend, Backend, Qdrant, TTS, STT).
3. **Voice Models:** `kokoro-v1.0.onnx` and `voices-v1.0.bin` files placed in the `backend_python/tts/` directory.
4. **Environment Variables:** A `.env` file containing your `TELEGRAM_BOT_TOKEN`, `DISCORD_BOT_TOKEN`, and `JEAN_HEUDE_SECRET`.

---

# üìà Version History

### **V4.6 (Current) ‚Äî The Omni-Channel & Brain Era**
- **Vision Integration:** The AI now "sees" and processes images using local multimodal models.
- **Memory Overhaul:** Complete refactoring of the central `AgentRunner`. Memory is now fully asynchronous, combining SQLite (short-term) and Qdrant/Mem0 (long-term) into a unified, cross-platform brain.
- **Advanced Skills Engine:** The agent can now seamlessly trigger multiple skills within its reasoning loop (including reading local documents) before delivering a final answer.
- **External Gateways:** Native integrations for Discord and Telegram.
- **Zero-Trust Security:** Implementation of the `/pair` authentication system and SQLite allowlist to protect the AI from unauthorized access.
- **Micro-services Architecture:** Complete Dockerization of the stack via `docker-compose.yml`.

### **V4.5 ‚Äî The Voice Era**
- **Sequential TTS Engine:** Transition from WAV files to **24kHz PCM streaming** via SvelteKit Proxy.
- **Robust AudioContext:** Implementation of a "Promise-based" audio queue with automatic buffer alignment and Svelte 5 rune reactivity.
- **Integrated STT:** High-accuracy Speech-to-Text for hands-free interaction.

### **V4.0 ‚Äî Agentic Loop**
- **MCP Support:** Full integration of Model Context Protocol for external tools.
- **Visual Thinking:** UI blocks that display the "Thinking" process in real-time.
- **Smart Model Selector:** Dynamic logic to choose between light and heavy models.

###
